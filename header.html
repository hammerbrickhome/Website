/* ============================================================
   ✅ HEADER + FOOTER READY HOOKS (works with dynamic include)
=============================================================== */
function initHeaderInteractions() {

  // --- Mobile nav toggle ---
  const navToggle = document.querySelector('.nav-toggle');
  const mainNav = document.querySelector('.main-nav');
  if (navToggle && mainNav) {
    navToggle.addEventListener('click', () => {
      mainNav.classList.toggle('show');
    });
  }

  // --- Dropdowns (ALL dropdowns) ---
  const list = document.querySelectorAll('.dropdown');

  list.forEach(drop => {
    const btn = drop.querySelector('.dropbtn');
    const menu = drop.querySelector('.dropdown-content');
    if (!btn || !menu) return;

    btn.addEventListener('click', (e) => {
      e.preventDefault();
      e.stopPropagation();

      // Close all other dropdowns
      list.forEach(d => {
        if (d !== drop) d.classList.remove('show');
      });

      drop.classList.toggle('show');
    });
  });

  // Click outside — close everything
  document.addEventListener('click', () => {
    list.forEach(d => d.classList.remove('show'));
  });

  // --- Chat bubble toggle ---
  const chatToggle = document.querySelector('.chat-toggle');
  const chatModal = document.querySelector('.chat-modal');
  if (chatToggle && chatModal) {
    chatToggle.addEventListener('click', () => {
      chatModal.style.display =
        chatModal.style.display === 'flex' ? 'none' : 'flex';
    });
  }
}

/* ============================================================
   RUN HEADER INIT
=============================================================== */
document.addEventListener('DOMContentLoaded', () => {
  setTimeout(initHeaderInteractions, 500);
});




